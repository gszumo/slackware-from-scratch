#!/bin/bash

build_x11-xcb () {
#*****************************
cd /source/x/x11 || exit 1

export UPGRADE_PACKAGES=always

if ! ./x11.SlackBuild proto xcb-proto; then
	exit 1
fi

if ! ./x11.SlackBuild xcb libpthread-stubs; then
	exit 1
fi

for package in \
  libXau \
  libXdmcp \
  libxcb \
  ; do
   	if ! ./x11.SlackBuild lib $package; then
		exit 1
	fi
done

for package in \
  xcb-util \
  xcb-util-image \
  xcb-util-keysyms \
  xcb-util-renderutil \
  xcb-util-wm \
  xcb-util-cursor \
  xcb-util-errors \
  xpyb \
  ; do
   	if ! ./x11.SlackBuild xcb $package; then
 		exit 1
	fi
done

mv -v /tmp/x11-build/*.txz /slackware64/x
cd /scripts || exit 1
}

build_x11-xcb
